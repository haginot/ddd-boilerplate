#!/bin/sh

# Commit message hook: Validate commit message format
# Enforces conventional commit messages

echo "üìã Validating commit message..."

npx --no -- commitlint --edit "$1"
if [ $? -ne 0 ]; then
    echo ""
    echo "‚ùå Commit message does not follow conventional commits format."
    echo ""
    echo "Expected format: <type>(<scope>): <subject>"
    echo ""
    echo "Types: feat, fix, docs, style, refactor, perf, test, build, ci, chore, revert"
    echo ""
    echo "Examples:"
    echo "  feat: add user authentication"
    echo "  fix(api): handle null response"
    echo "  docs: update README"
    echo ""
    exit 1
fi

echo "‚úÖ Commit message is valid!"
