# Dockerfile for running tests in an isolated environment
FROM node:20-alpine AS base

WORKDIR /app

# Install build dependencies for native modules if needed
RUN apk add --no-cache git python3 make g++

# Install dependencies
COPY package*.json ./
RUN npm ci

# Copy project files
COPY . .

# Default command (overridden by docker-compose)
CMD ["npm", "test"]
